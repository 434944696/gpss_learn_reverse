# 极验三代滑块

> 网站地址： aHR0cHM6Ly93d3cuZ2VldGVzdC5jb20vc2hvdw==
>
> https://github.com/Guapisansan/gpss_learn_reverse 代码在这里，会持续更新逆向案例

**免责声明： 此文档，以及脚本，仅用来对技术的学习与探讨，如有冒犯，请联系作者电话，微信13933566015进行删除**

这周搞完，极验4代，来看看三代是个怎么回事。

![image-20230906151351033](./极验三代.assets/image-20230906151351033.png)

搞这个小滑块

## 流程分析

![image-20230906152700858](./极验三代.assets/image-20230906152700858.png)

**这里还是刷新图片，并滑动**

两个接口 

一个refresh.php刷新图片接口

一个 ajax.php的验证接口

先看获取图片的接口

![image-20230906152836354](./极验三代.assets/image-20230906152836354.png)

![image-20230906152844050](./极验三代.assets/image-20230906152844050.png)

入参和出参。

先进行重放。去除不必要的参数包括header和cookie

![image-20230906153156007](./极验三代.assets/image-20230906153156007.png)

经过重放测试，

只需要gt，challenge两个参数。

看一下这两个参数的来源

![image-20230906153611309](./极验三代.assets/image-20230906153611309.png)

下一个断点。如何向前跟栈，翻一翻吧

这一翻就是永恒。

![image-20230906163004947](./极验三代.assets/image-20230906163004947.png)

发现这个config配置

![image-20230906163054821](./极验三代.assets/image-20230906163054821.png)

这里发现了userConfig已经含有配置文件了

![image-20230906163119416](./极验三代.assets/image-20230906163119416.png)

再上一层终于发现了 他是来自于这个接口

![image-20230906163235221](./极验三代.assets/image-20230906163235221.png)

来自这个接口，

千辛万苦找到了

起码估计是我们清空历史接口了

所以错过了gt。

这次重新刷新页面，来抓这个包

![image-20230906163502505](./极验三代.assets/image-20230906163502505.png)

来自这个接口。我们也可以模拟

这是一个注册的接口。

![image-20230906163932198](./极验三代.assets/image-20230906163932198.png)

这里来实现一下注册，轻松拿下

**（翻来源太费时间了，如果细心一点发现他是刷新页面就会好很多）**

和刷新图片接口连一起好吧

![image-20230906173947179](./极验三代.assets/image-20230906173947179.png)

这里两个，

发现不同的类型的验证码是不同的注册接口

所以这里滑块我们用 slide实现
我这里经过测试

发现还是不行我得 refresh接口还是请求不到，

![image-20230906174850740](./极验三代.assets/image-20230906174850740.png)

![image-20230906174906984](./极验三代.assets/image-20230906174906984.png)

我们注册完正确的流程因该是，get接口而不是刷新接口，如果经过get接口后 这个challenge就生效了

就可以进行刷新了。get接口也是返回的图片信息。

所以我么将刷新接口改为get接口。

![image-20230906175627945](./极验三代.assets/image-20230906175627945.png)

这里要注意的是着出现了两个get接口

参数不一样，要仔细一点找到我的图片的。。。。

再一同测试发现还是不对。

